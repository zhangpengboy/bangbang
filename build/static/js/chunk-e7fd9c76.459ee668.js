(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7fd9c76"],{6621:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"top"},[a("div",{staticClass:"top-title "},[e._v("数据筛选")]),a("div",{staticClass:"top-content flex fvertical fbetween"},[a("div",{staticClass:"top-content-item flex fvertical"},[a("div",{staticClass:"flex fvertical top-content-item-status"},[a("span",[e._v("输入查询：")]),a("el-input",{staticClass:"top-content-item-input",attrs:{placeholder:"ID/项目名称"},model:{value:e.serach,callback:function(t){e.serach=t},expression:"serach"}})],1),a("div",{staticClass:"flex fvertical top-content-item-status"},[a("span",[e._v("实名状态：")]),a("el-select",{attrs:{placeholder:"全部"},model:{value:e.reamNamevalue,callback:function(t){e.reamNamevalue=t},expression:"reamNamevalue"}},e._l(e.reamNameOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"flex fvertical top-content-item-status"},[a("span",[e._v("企业认证：")]),a("el-select",{attrs:{placeholder:"全部"},model:{value:e.authvalue,callback:function(t){e.authvalue=t},expression:"authvalue"}},e._l(e.authOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("div",{staticClass:"top-content-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),a("el-button",{on:{click:e.raLoad}},[e._v("重置")])],1)]),a("div",{staticClass:"top-content flex fvertical fbetween"},[a("div",{staticClass:"top-content-item flex fvertical"},[a("div",{staticClass:"flex fvertical top-content-item-status"},[a("span",[e._v("工人等级：")]),a("el-select",{attrs:{multiple:"",placeholder:"全部"},model:{value:e.gradevalue,callback:function(t){e.gradevalue=t},expression:"gradevalue"}},e._l(e.gradeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"flex fvertical top-content-item-status"},[a("span",[e._v("用户登录：")]),a("el-select",{attrs:{placeholder:"全部"},model:{value:e.loginvalue,callback:function(t){e.loginvalue=t},expression:"loginvalue"}},e._l(e.loginOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"flex fvertical top-content-item-status"},[a("span",[e._v("状态：")]),a("el-select",{attrs:{placeholder:"全部"},model:{value:e.statusvalue,callback:function(t){e.statusvalue=t},expression:"statusvalue"}},e._l(e.allStatus,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])])]),a("div",{staticClass:"box"},[a("div",{staticClass:"box-top flex fbetween fvertical"},[a("div",{staticClass:"bold"},[e._v("数据列表")]),a("el-button",[e._v("导出")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"realName",label:"名称",width:"120"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",width:"120"}}),a("el-table-column",{attrs:{prop:"gender",label:"性别",formatter:e.genderFormat}}),a("el-table-column",{attrs:{prop:"realNameAuth",label:"实名状态",formatter:e.realNameAuthFormat}}),a("el-table-column",{attrs:{prop:"enterpriseAuthStatus",label:"企业认证",formatter:e.enterpriseAuthStatusFormat}}),a("el-table-column",{attrs:{prop:"grade",label:"工人等级",formatter:e.gradeFormat}}),a("el-table-column",{attrs:{prop:"userType",label:"用户登录",formatter:e.userTypeFormat}}),a("el-table-column",{attrs:{prop:"userStatus",label:"状态",formatter:e.userStatusFormat}}),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间"}}),a("el-table-column",{attrs:{prop:"updater",label:"操作人"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"操作时间"}}),a("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleLook(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.changeSte(t.row)}}},[e._v(e._s(1==t.row.userStatus?"激活":"冻结"))]),0==t.row.realNameAuth?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.reanName(t.row)}}},[e._v("实名")]):e._e(),0==t.row.enterpriseAuthStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.authen(t.row)}}},[e._v("企业认证")]):e._e()]}}])})],1),a("div",{staticClass:"flex fcenter page"},[a("el-pagination",{staticClass:"page",attrs:{id:"page",background:"","current-page":e.PageIndex,"page-sizes":[10,20,30,40],"page-size":e.PageSize,layout:"total, prev, pager, next,sizes, jumper",total:e.PageCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"添加实名",visible:e.realNamePop,width:"30%",center:""},on:{"update:visible":function(t){e.realNamePop=t}}},[a("div",{staticClass:"reanNamePoplist"},[a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("身份证正反面：")]),a("div",{staticClass:"popIdCard flex alCen"},[a("el-upload",{ref:"newupload",staticClass:"avatar-uploader",attrs:{action:"123","before-upload":e.beforeUpload,"show-file-list":!1,name:"multipartFile","with-credentials":!0,"auto-upload":!0,"on-success":e.upIdCard}},[e.idCard?a("img",{staticClass:"avatar",attrs:{src:e.idCard}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("el-upload",{ref:"newupload",staticClass:"avatar-uploader",staticStyle:{"margin-left":"10px"},attrs:{action:"123","before-upload":e.beforeUpload2,"show-file-list":!1,name:"multipartFile","auto-upload":!0,"with-credentials":!0,"on-success":e.upIdCardBack}},[e.idCardBack?a("img",{staticClass:"avatar",attrs:{src:e.idCardBack}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("姓名：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.rnName,expression:"rnName"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请填姓名",value:""},domProps:{value:e.rnName},on:{input:function(t){t.target.composing||(e.rnName=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("性别：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.rnGender,expression:"rnGender"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入性别",value:""},domProps:{value:e.rnGender},on:{input:function(t){t.target.composing||(e.rnGender=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("民族：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.rnNation,expression:"rnNation"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入民族",value:""},domProps:{value:e.rnNation},on:{input:function(t){t.target.composing||(e.rnNation=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("年龄：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.rnAge,expression:"rnAge"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入年龄",value:""},domProps:{value:e.rnAge},on:{input:function(t){t.target.composing||(e.rnAge=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("身份证号：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.rnIdnum,expression:"rnIdnum"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入身份证号",value:""},domProps:{value:e.rnIdnum},on:{input:function(t){t.target.composing||(e.rnIdnum=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("籍贯：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.rnNativePlace,expression:"rnNativePlace"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入籍贯",value:""},domProps:{value:e.rnNativePlace},on:{input:function(t){t.target.composing||(e.rnNativePlace=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("户籍地：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.rnHouse,expression:"rnHouse"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入户籍地",value:""},domProps:{value:e.rnHouse},on:{input:function(t){t.target.composing||(e.rnHouse=t.target.value)}}})])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.realNamePop=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.realNameTrue}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"添加企业认证",visible:e.qiyeRZPop,width:"30%",center:""},on:{"update:visible":function(t){e.qiyeRZPop=t}}},[a("div",{staticClass:"reanNamePoplist reanNamePoplist2"},[a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("资料上传：")]),a("div",{staticClass:"popIdCard flex alCen"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"list-type":"picture-card",action:"https://jsonplaceholder.typicode.com/posts/","on-success":e.qiyeUp,"on-remove":e.qiyeRemove,"limit:3":""}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.fileUris,alt:""}})])],1)]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("企业名称：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.enterpriseName,expression:"enterpriseName"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请填企业名称",value:""},domProps:{value:e.enterpriseName},on:{input:function(t){t.target.composing||(e.enterpriseName=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("营业执照注册号：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.businessLicenseRegistrationNo,expression:"businessLicenseRegistrationNo"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入营业执照注册号",value:""},domProps:{value:e.businessLicenseRegistrationNo},on:{input:function(t){t.target.composing||(e.businessLicenseRegistrationNo=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("法人姓名：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.legalRepresentativeName,expression:"legalRepresentativeName"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入法人姓名",value:""},domProps:{value:e.legalRepresentativeName},on:{input:function(t){t.target.composing||(e.legalRepresentativeName=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("运营者姓名：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.operatorName,expression:"operatorName"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入运营者姓名",value:""},domProps:{value:e.operatorName},on:{input:function(t){t.target.composing||(e.operatorName=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("运营者联系电话：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.operatorMobileNo,expression:"operatorMobileNo"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入运营者联系电话",value:""},domProps:{value:e.operatorMobileNo},on:{input:function(t){t.target.composing||(e.operatorMobileNo=t.target.value)}}})]),a("div",{staticClass:"item"},[a("p",{staticClass:"tit"},[e._v("身份证号：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.operatorIdNo,expression:"operatorIdNo"}],staticClass:"ipt",attrs:{type:"text",name:"",placeholder:"请输入身份证号",value:""},domProps:{value:e.operatorIdNo},on:{input:function(t){t.target.composing||(e.operatorIdNo=t.target.value)}}})])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.qiyeRZPop=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.renZhTrue}},[e._v("确 定")])],1)])],1)])},l=[],i=a("c24f"),o={data:function(){return{tableData:[{type:0,name:"工人1"},{type:1,name:"工人2"}],PageIndex:1,PageSize:10,PageCount:0,serach:"",reamNameOptions:[{label:"未实名",value:"1"},{label:"已实名",value:"2"}],reamNamevalue:"",authOptions:[{label:"未认证",value:"1"},{label:"已认证",value:"2"}],authvalue:"",gradeOptions:[{label:"普通工人",value:"0"},{label:"铜牌工人",value:"1"},{label:"银牌工人",value:"2"},{label:"金牌工人",value:"3"}],gradevalue:[],loginOptions:[{label:"企业端",value:"0"},{label:"工人端",value:"1"},{label:"后台端",value:"2"}],loginvalue:"",allStatus:[{label:"正常",value:"0"},{label:"冻结",value:"1"}],statusvalue:"",realNamePop:!1,idCard:"",idCardBack:"",qiyeRZPop:!1,rnName:"",rnGender:"",rnNation:"",rnAge:"",rnIdnum:"",rnNativePlace:"",rnHouse:"",rnUserId:"",rnUserType:"",enterpriseName:"",businessLicenseRegistrationNo:"",legalRepresentativeName:"",operatorName:"",operatorMobileNo:"",operatorIdNo:"",qyuserId:"",fileUris:[],dialogVisible:!1}},created:function(){this.getUser()},methods:{genderFormat:function(e){return 0==e.gender?"男":1==e.gender?"女":"未知"},realNameAuthFormat:function(e){return 0==e.realNameAuth?"未实名":"已实名"},enterpriseAuthStatusFormat:function(e){return 0==e.enterpriseAuthStatus?"未提交":1==e.enterpriseAuthStatus?"审核中":2==e.enterpriseAuthStatus?"已通过":3==e.enterpriseAuthStatus?"已驳回":void 0},gradeFormat:function(e){return 0==e.grade?"普通工人":1==e.grade?"铜牌":2==e.grade?"银牌":3==e.grade?"金牌":void 0},userTypeFormat:function(e){return 0==e.userType?"企业端":1==e.userType?"工人端":2==e.userType?"管理员":void 0},userStatusFormat:function(e){return 0==e.userStatus?"正常":1==e.userType?"冻结":void 0},getUser:function(){var e=this,t={id:this.serach,enterpriseAuthStatus:this.authvalue,grades:this.gradevalue,pageNum:this.PageIndex,pageSize:this.PageSize,realNameAuth:this.reamNamevalue,userStatus:this.statusvalue,userType:this.loginvalue};Object(i["e"])(t).then((function(t){var a=t.data;console.log("res",a),e.PageCount=a.total,e.tableData=a.list}))},search:function(){console.log("查询"),this.getUser()},raLoad:function(){this.serach="",this.reamNamevalue="",this.authvalue="",this.gradevalue=[],this.loginvalue="",this.statusvalue="",this.PageIndex=1,this.getUser()},handleLook:function(e){console.log(e.userType),0==e.userType?this.$router.push({path:"/User/enterprisedetails",query:{id:e.id,userType:e.userType}}):1==e.userType&&this.$router.push({path:"/User/userdetail",query:{id:e.id,userType:e.userType}})},handleSizeChange:function(e){this.PageSize=e,this.PageIndex=1,this.getUser()},handleCurrentChange:function(e){this.PageIndex=e,this.getUser()},reanName:function(e){console.log(e),this.rnUserId=e.id,this.rnUserType=e.userType,this.realNamePop=!0},changeSte:function(e){var t=this;console.log(e),1==e.userStatus?this.$confirm("是否确定激活用户","确认提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={userId:e.id,userStatus:0,userType:e.userType};console.log(a),Object(i["o"])(a).then((function(e){console.log(e),200==e.code&&(t.$message({type:"success",message:"操作成功!"}),t.getUser())}))})).catch((function(){})):this.$confirm("是否确定冻结用户","确认提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={userId:e.id,userStatus:1,userType:e.userType};Object(i["o"])(a).then((function(e){console.log(e),200==e.code&&(t.$message({type:"success",message:"操作成功!"}),t.getUser())}))})).catch((function(){}))},authen:function(e){console.log(e),this.qyuserId=e.id,this.qiyeRZPop=!0},upIdCard:function(e,t){console.log(e)},upIdCardBack:function(e,t){console.log(e),console.log(t)},qiyeRemove:function(e){console.log(e.response)},qiyeUp:function(e){console.log(e),this.dialogVisible=!1},beforeUpload:function(e){console.log(e);var t=new FormData;return t.append("multipartFile",e),Object(i["p"])(t).then((function(e){console.log(e)})),!1},beforeUpload2:function(e){console.log(e);var t=new FormData;return t.append("multipartFile",e),Object(i["p"])(t).then((function(e){console.log(e)})),!1},realNameTrue:function(){console.log(this.rnName),console.log(this.rnGender),console.log(this.rnNation),console.log(this.rnAge),console.log(this.rnIdnum),console.log(this.rnNativePlace),console.log(this.rnHouse);var e={age:this.rnAge,gender:this.rnGender,householdRegister:this.rnHouse,idCardReverseUri:"http://183.60.156.101:9001/test/20210817/a966352ef9764a0e81e983e801ebbcfa.png",idCardUri:"http://183.60.156.101:9001/test/20210817/a966352ef9764a0e81e983e801ebbcfa.png",idNo:this.rnIdnum,nation:this.rnNation,nativePlace:this.rnNativePlace,realName:this.rnName,userId:this.rnUserId,userType:this.rnUserType};Object(i["m"])(e).then((function(e){console.log(e),e.code}))},renZhTrue:function(){var e={businessLicenseRegistrationNo:this.businessLicenseRegistrationNo,enterpriseName:this.enterpriseName,fileUris:"http://183.60.156.101:9001/test/20210817/a966352ef9764a0e81e983e801ebbcfa.png",legalRepresentativeName:this.legalRepresentativeName,operatorIdNo:this.operatorIdNo,operatorMobileNo:this.operatorMobileNo,operatorName:this.operatorName,userId:this.qyuserId};Object(i["i"])(e).then((function(e){console.log(e),e.code}))}}},r=o,n=(a("c53e"),a("2877")),u=Object(n["a"])(r,s,l,!1,null,null,null);t["default"]=u.exports},8359:function(e,t,a){},c53e:function(e,t,a){"use strict";a("8359")}}]);